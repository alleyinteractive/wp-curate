!function(){"use strict";var e,t,o,r,l,s,i,n,p,a,u,c={251:function(e,t,o){var r=o(196),l=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,n=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function a(e,t,o){var r,s={},a=null,u=null;for(r in void 0!==o&&(a=""+o),void 0!==t.key&&(a=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,r)&&!p.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:l,type:e,key:a,ref:u,props:s,_owner:n.current}}t.Fragment=s,t.jsx=a,t.jsxs=a},893:function(e,t,o){e.exports=o(251)},196:function(e){e.exports=window.React}},d={};function w(e){var t=d[e];if(void 0!==t)return t.exports;var o=d[e]={exports:{}};return c[e](o,o.exports,w),o.exports}e=window.wp.blocks,t=window.wp.primitives,r=(0,(o=w(893)).jsx)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,o.jsx)(t.Path,{d:"m4 5.5h2v6.5h1.5v-6.5h2v-1.5h-5.5zm16 10.5h-16v-1.5h16zm-7 4h-9v-1.5h9z"})}),l=window.wp.i18n,s=window.wp.blockEditor,i=window.wp.coreData,n=w(196),p=window.wp.components,a=window.wp.data,u=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"wp-curate/post-title","version":"0.1.0","title":"Post Title","category":"theme","icon":"post","description":"Custom post title for WP Curate","textdomain":"wp-curate","editorScript":"file:index.ts","style":"wp-block-post-title","usesContext":["postId","query","pinnedPosts","customPostTitles"],"attributes":{"level":{"type":"number","default":3},"supportsLevel":{"type":"boolean","default":true}},"render":"file:render.php","supports":{"inserter":false}}'),(0,e.registerBlockType)(u,{icon:r,edit:function(e){let{clientId:t,attributes:r,context:u,setAttributes:c}=e;const d=(0,a.select)("core/block-editor").getBlockParentsByBlockName(t,"wp-curate/query")[0],{postId:w,pinnedPosts:h=[],query:{postType:v="post"},customPostTitles:f=[]}=u,{level:m=3,supportsLevel:b}=r,[_="",,y]=(0,i.useEntityProp)("postType",v,"title",w.toString()),x=h.includes(w),k=f.find((e=>e?.postId===w)),P=b&&0!==m?`h${m}`:"p",g=(0,s.useBlockProps)();(0,n.useEffect)((()=>{f.length&&k&&!x&&(0,a.dispatch)("core/block-editor").updateBlockAttributes(d,{customPostTitles:f.filter((e=>e?.postId!==w))})}),[x,w,f,k,c,d]);const I=e=>{if(k?.postId&&0===k?.title.length&&e===_)return void(0,a.dispatch)("core/block-editor").updateBlockAttributes(d,{customPostTitles:f.filter((e=>e?.postId!==w))});if(e===_||e===k?.title)return;let t=[...f];k?.postId?k.title=e:k?.postId||(t=[...f,{postId:w,title:e}]),(0,a.dispatch)("core/block-editor").updateBlockAttributes(d,{customPostTitles:t})};let T=(0,o.jsx)(P,{...g,dangerouslySetInnerHTML:{__html:y?.rendered}});var S;return x&&(T=(0,o.jsx)(s.PlainText,{tagName:P,placeholder:(0,l.__)("Enter a custom title"),value:null!==(S=k?.title)&&void 0!==S?S:_,onChange:e=>I(e.trim()),onBlur:()=>""===k?.title&&I(_),__experimentalVersion:2,...g})),(0,o.jsxs)(o.Fragment,{children:[T,b?(0,o.jsx)(s.InspectorControls,{children:(0,o.jsx)(p.PanelBody,{title:(0,l.__)("Setup","wp-curate"),initialOpen:!0,children:(0,o.jsx)(p.SelectControl,{label:(0,l.__)("Heading Level"),value:m.toString(),options:[{label:"p",value:"0"},{label:"h1",value:"1"},{label:"h2",value:"2"},{label:"h3",value:"3"},{label:"h4",value:"4"},{label:"h5",value:"5"},{label:"h6",value:"6"}],onChange:e=>{c({level:parseInt(e,10)})}})})}):null]})}})}();