!function(){"use strict";var e,t,o,r,s,l,i,n,p,a,c,u={251:function(e,t,o){var r=o(196),s=Symbol.for("react.element"),l=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,n=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function a(e,t,o){var r,l={},a=null,c=null;for(r in void 0!==o&&(a=""+o),void 0!==t.key&&(a=""+t.key),void 0!==t.ref&&(c=t.ref),t)i.call(t,r)&&!p.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===l[r]&&(l[r]=t[r]);return{$$typeof:s,type:e,key:a,ref:c,props:l,_owner:n.current}}t.Fragment=l,t.jsx=a,t.jsxs=a},893:function(e,t,o){e.exports=o(251)},196:function(e){e.exports=window.React}},d={};function w(e){var t=d[e];if(void 0!==t)return t.exports;var o=d[e]={exports:{}};return u[e](o,o.exports,w),o.exports}e=window.wp.blocks,t=window.wp.primitives,r=(0,(o=w(893)).jsx)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,o.jsx)(t.Path,{d:"m4 5.5h2v6.5h1.5v-6.5h2v-1.5h-5.5zm16 10.5h-16v-1.5h16zm-7 4h-9v-1.5h9z"})}),s=window.wp.i18n,l=window.wp.blockEditor,i=window.wp.coreData,n=w(196),p=window.wp.components,a=window.wp.data,c=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"wp-curate/post-title","version":"0.1.0","title":"Post Title","category":"theme","icon":"post","description":"Custom post title for WP Curate","textdomain":"wp-curate","editorScript":"file:index.ts","style":"wp-block-post-title","usesContext":["postId","query","pinnedPosts","customPostTitles"],"attributes":{"level":{"type":"number","default":3}},"render":"file:render.php","supports":{"inserter":false}}'),(0,e.registerBlockType)(c,{icon:r,edit:function(e){let{clientId:t,attributes:r,context:c,setAttributes:u}=e;const d=(0,a.select)("core/block-editor").getBlockParentsByBlockName(t,"wp-curate/query")[0],{postId:w,pinnedPosts:h=[],query:{postType:v="post"},customPostTitles:f=[]}=c,{level:m=3}=r,[b="",,_]=(0,i.useEntityProp)("postType",v,"title",w.toString()),x=h.includes(w),y=f.find((e=>e?.postId===w)),k=0===m?"p":`h${m}`,P=(0,l.useBlockProps)();(0,n.useEffect)((()=>{f.length&&y&&!x&&(0,a.dispatch)("core/block-editor").updateBlockAttributes(d,{customPostTitles:f.filter((e=>e?.postId!==w))})}),[x,w,f,y,u,d]);const g=e=>{if(y?.postId&&0===y?.title.length&&e===b)return void(0,a.dispatch)("core/block-editor").updateBlockAttributes(d,{customPostTitles:f.filter((e=>e?.postId!==w))});if(e===b||e===y?.title)return;let t=[...f];y?.postId?y.title=e:y?.postId||(t=[...f,{postId:w,title:e}]),(0,a.dispatch)("core/block-editor").updateBlockAttributes(d,{customPostTitles:t})};let I=(0,o.jsx)(k,{...P,dangerouslySetInnerHTML:{__html:_?.rendered}});var T;return x&&(I=(0,o.jsx)(l.PlainText,{tagName:k,placeholder:(0,s.__)("Enter a custom title"),value:null!==(T=y?.title)&&void 0!==T?T:b,onChange:e=>g(e.trim()),onBlur:()=>""===y?.title&&g(b),__experimentalVersion:2,...P})),(0,o.jsxs)(o.Fragment,{children:[I,(0,o.jsx)(l.InspectorControls,{children:(0,o.jsx)(p.PanelBody,{title:(0,s.__)("Setup","wp-curate"),initialOpen:!0,children:(0,o.jsx)(p.SelectControl,{label:(0,s.__)("Heading Level"),value:m.toString(),options:[{label:"p",value:"0"},{label:"h1",value:"1"},{label:"h2",value:"2"},{label:"h3",value:"3"},{label:"h4",value:"4"},{label:"h5",value:"5"},{label:"h6",value:"6"}],onChange:e=>{u({level:parseInt(e,10)})}})})})]})}})}();