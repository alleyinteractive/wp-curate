!function(){"use strict";var e,t,o,r,l,n,s,i,a,p,c,u={251:function(e,t,o){var r=o(196),l=Symbol.for("react.element"),n=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};t.jsx=function(e,t,o){var r,a={},p=null,c=null;for(r in void 0!==o&&(p=""+o),void 0!==t.key&&(p=""+t.key),void 0!==t.ref&&(c=t.ref),t)n.call(t,r)&&!i.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:l,type:e,key:p,ref:c,props:a,_owner:s.current}}},893:function(e,t,o){e.exports=o(251)},196:function(e){e.exports=window.React}},d={};function w(e){var t=d[e];if(void 0!==t)return t.exports;var o=d[e]={exports:{}};return u[e](o,o.exports,w),o.exports}e=window.wp.blocks,t=window.wp.primitives,r=(0,(o=w(893)).jsx)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,o.jsx)(t.Path,{d:"m4 5.5h2v6.5h1.5v-6.5h2v-1.5h-5.5zm16 10.5h-16v-1.5h16zm-7 4h-9v-1.5h9z"})}),l=w(196),n=window.wp.i18n,s=window.wp.blockEditor,i=window.wp.coreData,a=window.wp.components,p=window.wp.data,c=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"wp-curate/post-title","version":"0.1.0","title":"Post Title","category":"theme","icon":"post","description":"Custom post title for WP Curate","textdomain":"wp-curate","editorScript":"file:index.ts","style":"wp-block-post-title","usesContext":["postId","query","pinnedPosts","customPostTitles"],"attributes":{"level":{"type":"number","default":3}},"render":"file:render.php","supports":{"inserter":false}}'),(0,e.registerBlockType)(c,{icon:r,edit:function(e){let{clientId:t,attributes:o,context:r,setAttributes:c}=e;const u=(0,p.select)("core/block-editor").getBlockParentsByBlockName(t,"wp-curate/query")[0],{postId:d,pinnedPosts:w=[],query:{postType:m="post"},customPostTitles:v=[]}=r,{level:f=3}=o,[h="",,b]=(0,i.useEntityProp)("postType",m,"title",d.toString()),_=w.includes(d),y=v.find((e=>e?.postId===d)),k=0===f?"p":`h${f}`,P=(0,s.useBlockProps)();(0,l.useEffect)((()=>{v.length&&y&&!_&&(0,p.dispatch)("core/block-editor").updateBlockAttributes(u,{customPostTitles:v.filter((e=>e?.postId!==d))})}),[_,d,v,y,c,u]);const g=e=>{if(y?.postId&&0===y?.title.length&&e===h)return void(0,p.dispatch)("core/block-editor").updateBlockAttributes(u,{customPostTitles:v.filter((e=>e?.postId!==d))});if(e===h||e===y?.title)return;let t=[...v];y?.postId?y.title=e:y?.postId||(t=[...v,{postId:d,title:e}]),(0,p.dispatch)("core/block-editor").updateBlockAttributes(u,{customPostTitles:t})};let x=(0,l.createElement)(k,{...P,dangerouslySetInnerHTML:{__html:b?.rendered}});var E;return _&&(x=(0,l.createElement)(s.PlainText,{tagName:k,placeholder:(0,n.__)("Enter a custom title"),value:null!==(E=y?.title)&&void 0!==E?E:h,onChange:e=>g(e.trim()),onBlur:()=>""===y?.title&&g(h),__experimentalVersion:2,...P})),(0,l.createElement)(l.Fragment,null,x,(0,l.createElement)(s.InspectorControls,null,(0,l.createElement)(a.PanelBody,{title:(0,n.__)("Setup","wp-curate"),initialOpen:!0},(0,l.createElement)(a.SelectControl,{label:(0,n.__)("Heading Level"),value:f.toString(),options:[{label:"p",value:"0"},{label:"h1",value:"1"},{label:"h2",value:"2"},{label:"h3",value:"3"},{label:"h4",value:"4"},{label:"h5",value:"5"},{label:"h6",value:"6"}],onChange:e=>{c({level:parseInt(e,10)})}}))))}})}();